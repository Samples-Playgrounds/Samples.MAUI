@using TodoApp.Pages;
@using TodoApp.Views;
@inject NavigationManager NavManager

<MudAppBar Color="Color.Dark" Fixed="false" Elevation="1" Dense="true">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" />
    <MudSpacer />
</MudAppBar>

<MudDrawer @bind-Open="@open" ClipMode="DrawerClipMode.Docked" Elevation="1" Variant="@DrawerVariant.Responsive" >
    <MudNavMenu Color="Color.Primary">
        <MudNavLink Match="NavLinkMatch.All" Href="/" >Home</MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Href="todo_new">Todo New</MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Href="list_todo">Lista de todo</MudNavLink>
        <MudNavLink @onclick="OnLoginClick" >Login</MudNavLink>
    </MudNavMenu>
</MudDrawer>

@code {
    bool open = false;

    void ToggleDrawer()
    {
        open = !open;
    }
    async void OnLoginClick()
    {
        await App.Current.MainPage.Navigation.PushAsync(new LoginPage());
    }


    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
